import"@million/lint/devtools";import*as e from"react";var t=null,r="undefined"==typeof window||!e.useRef,n=r?e.useEffect:e.useLayoutEffect,i=r?t:window,o=r?t:document,l=r?t:addEventListener,f=Map,u=WeakMap,a=Set,s=Object,c=Array,p=c.isArray,y=setTimeout,d=r?t:performance,h=f.prototype,g=h.has,m=h.get,v=h.set,_=u.prototype,b=_.has,S=_.set,w=a.prototype,E=w.has,O=w.add,T=s.prototype,k=T.hasOwnProperty,R=T.toString,C="<unknown>",z="_ANYA_",j="Symbol(react.",N=j+"element)",I=j+"fragment)",P=j+"portal)",D=j+"profiler)",L=j+"forward_ref)",A=j+"strict_mode)",$=j+"suspense)",x=j+"suspense_list)",M=(e,t=1e3)=>{let r;return function(){void 0!==r&&clearTimeout(r),r=y((()=>{e.apply(this,arguments),r=void 0}),t)}},B=e=>"scheduler"in globalThis?i.scheduler.postTask(e,{priority:"background"}):"requestIdleCallback"in i?requestIdleCallback(e):y(e,0),H=()=>{if(r)return t;let e={id:(()=>{let e="",t=crypto.getRandomValues(new Uint8Array(21));for(let r=0;r<21;r++)e+="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict"[63&t[r]];return e})(),url:i.location.toString(),wifi:navigator.connection?.effectiveType||C,cpu:navigator.hardwareConcurrency,mem:navigator.deviceMemory,gpu:C};return B((()=>{e.gpu=(()=>{if(!("chrome"in i))return"";let e=document.createElement("canvas").getContext("webgl",{powerPreference:"high-performance"});if(!e)return"";let t=e.getExtension("WEBGL_debug_renderer_info");return t?e.getParameter(t.UNMASKED_RENDERER_WEBGL):""})()})),e},U="application/json",K="function"==typeof CompressionStream,W=async(e,n,i,o)=>{let l={ok:!1};if(r)return l;let f=n.apiKey,u=n.buildId,a=n.commitHash;n.apiKey=void 0,n.buildId=void 0,n.commitHash=void 0;let s,c=JSON.stringify(n,((e,r)=>{if(r!=t&&!1!==r&&"_"!==e[0]||p(r)&&r.length)return r})),y=c.length>1e3,d=y&&K?await(async e=>{let t=new Blob([e],{type:U}).stream().pipeThrough(new CompressionStream("gzip"));return new Response(t).arrayBuffer()})(c):c;if((s=!0)&&!navigator.onLine)return l;let h={"Content-Type":U,"Content-Encoding":y?"gzip":void 0};y&&(e+="?z=1"),h["X-API-KEY"]=f,h["X-BUILD-ID"]=u,h["X-COMMIT-HASH"]=a;let g="string"==typeof d?d.length:d.byteLength;return fetch(e,{body:d,method:"POST",referrerPolicy:"origin",keepalive:6e4>g&&15>i,priority:"low",mode:void 0,headers:h})},q=e.createContext(t),F=class extends e.Component{constructor(e){super(e),Ze(e)}render(){return me?this.props.children:e.createElement(q.Provider,{value:this._reactInternals},this.props.children)}},G=0,Y=()=>{let r=e.useContext(q);if(!r)return t;let n=e.useState((()=>z+G++))[0],o=e.useMemo((()=>{if(r)for(let e of[r,r.alternate]){if(!e)continue;let t=V(e,!1,(e=>{let t=e?.memoizedState;for(;t;){if(t.memoizedState===n)return!0;t=t.next}return!1}));if(t)return t}return t}),[r,n]);return i[z]&&(i[z].fiber=o),o},V=(e,r,n)=>{if(!e)return t;if(!0===n(e))return e;let i=e.child;for(;i;){let e=V(i,r,n);if(e)return e;i=i.sibling}return t},X=t=>{let r=e.useRef();return n((()=>{t&&(r.current=V(t,!1,(e=>"string"==typeof e.type))?.stateNode)}),[t]),r},J=e=>{if(!e?.alternate)return!0;switch(e.tag){case 0:case 1:case 9:case 14:case 15:return!(1&~((void 0!==e.flags?e.flags:e.effectTag)??0));default:let{alternate:t}=e;return t.memoizedProps!==e.memoizedProps||t.memoizedState!==e.memoizedState||t.ref!==e.ref}},Q=e=>{let r=e?.actualDuration??0,n=r,i=e?.child;for(;r>0&&i!=t;)n-=i?.actualDuration||0,i=i.sibling;return{t:r,s:n}},Z=e?.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ee=e?.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te=new u,re=e=>{e||=ve?ee?.H:Z?.ReactCurrentDispatcher?.current;let t=e?.useRef;return"function"==typeof t&&!b.call(te,t)&&(!t.toString().includes("Error")||(S.call(te,t,!0),!1))},ne=e=>{let r=e,n=r?.return;for(;n;){let e=n.type;if("function"==typeof e&&e[z])return e[z];n=n.return}return t},ie=(e,t)=>e.length>t?e.slice(0,t)+"…":e,oe=e=>{switch(typeof e){case"function":return ie(e.toString(),20);case"string":return ie(e,20);case"object":if(e===t)return"null";if(c.isArray(e))return e.length>0?"[…]":"[]";if("symbol"==typeof e.$$typeof&&String(e.$$typeof)===N)return"<"+(e.type.displayName||e.type.name||"")+(s.keys(e.props).length>0?" …":"")+">";if("object"==typeof e&&e!==t&&e.constructor===s){for(let t in e)if(k.call(e,t))return"{…}";return"{}"}let r=R.call(e).slice(8,-1);if("Object"===r){let t=s.getPrototypeOf(e)?.constructor;if("function"==typeof t)return(t.displayName||t.name||"")+"{…}"}return r+"{…}";default:return String(e)}},le=[A,I,D,$,x],fe=(e,t)=>{"function"==typeof e?e(t):null!=e&&(e.current=t)},ue=(e,t)=>{let r=s.assign({},e);for(let n in e){let i=e[n],o=t[n];n.startsWith("on")?i&&o?r[n]=function(){o.apply(this,arguments),i.apply(this,arguments)}:i&&(r[n]=i):"style"===n?r[n]=s.assign({},o,i):"className"===n&&(r[n]=[i,o].filter(Boolean).join(" "))}return s.assign({},t,r)},ae=(e,t)=>{if(e===t)return!0;if(e&&t&&"object"==typeof e&&"object"==typeof t){if(e.constructor!==t.constructor)return!1;let r,n,i,o;if(p(e)&&p(t)){if(r=e.length,r!==t.length)return!1;for(n=r;0!=n--;)if(!ae(e[n],t[n]))return!1;return!0}if(e instanceof f&&t instanceof f){if(e.size!==t.size)return!1;for(o=e.entries();!(n=o.next()).done;)if(!t.has(n.value[0]))return!1;for(o=e.entries();!(n=o.next()).done;)if(!ae(n.value[1],t.get(n.value[0])))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(o=e.entries();!(n=o.next()).done;)if(!t.has(n.value[0]))return!1;return!0}if(e.valueOf!==Object.prototype.valueOf&&"function"==typeof e.valueOf&&"function"==typeof t.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString&&"function"==typeof e.toString&&"function"==typeof t.toString)return e.toString()===t.toString();if(i=Object.keys(e),r=i.length,r!==Object.keys(t).length)return!1;for(n=r;0!=n--;)if(!Object.prototype.hasOwnProperty.call(t,i[n]))return!1;if(e instanceof Element)return!1;for(n=r;0!=n--;)if(("_owner"!==i[n]&&"__v"!==i[n]&&"__o"!==i[n]||!e.$$typeof)&&!ae(e[i[n]],t[i[n]]))return!1;return!0}return e!=e&&t!=t},se=()=>{},ce=new a,pe="__REACT_DEVTOOLS_GLOBAL_HOOK__",ye=()=>{let e=i[pe];if(e.renderers.size)for(let t of e.renderers.values()){let e=t.currentDispatcherRef;e&&!E.call(ce,e)&&O.call(ce,e)}};try{if(!r&&k.call(i,pe)){let e=i[pe],t=e.onCommitFiberRoot;e.onCommitFiberRoot=(e,r)=>{ye(),t&&t(e,r),se(r)}}}catch(e){}var de,he,ge,me=i?.[z+"SIGKILL_"],ve=e.version.startsWith("19"),_e=F,be=new f,Se=new f,we=[],Ee=!1,Oe=H(),Te=t,ke=t,Re=[],Ce=t,ze=-1,je=-1,Ne=[],Ie=0,Pe=e=>m.call(Se,e),De=["object","function"],Le=(r,n,i)=>{if(i&&s.is(r,n))return t;if((!i||e.isValidElement(n))&&((e,t)=>{try{return ae(e,t)}catch(e){return!1}})(r,n))return t;if("function"==typeof r&&r[z])return t;let o=oe(r),l=oe(n),f=o===l,u=n?typeof n:typeof r;return{u:f&&De.includes(u),t:u,c:1,i:t,n:f?o:o+"~"+l,d:t}},Ae=(e,r,n,l,f)=>{if("function"!=typeof r||z in r||f)return r;let u=function(){let u=d.now();try{let a=arguments[0];if(a&&"object"==typeof a){let t=a.currentTarget;t&&"object"==typeof t&&!t[z]&&t!==i&&t!==o&&(t[z]=e+"."+l)}let s=r.apply(this,arguments);if(f)return s;let c=d.now()-u;return Ue(e,128,l,null,t,c,c,1,null,null,null,n,[]),s}catch(r){throw Ue(e,256,l,null,t,0,0,1,null,null,r.message.trim(),n,[]),r}};return u[z]=!0,u},$e=e.forwardRef(((r,n)=>{let{children:i,_k:o,_l:l,_i:f,_l2:u,...a}=r,c=e.useRef(),p=i.props,y=(e=>e.props.ref||e.ref)(i),d="object"==typeof i&&"$$typeof"in i&&String(i.$$typeof)===L,h=(n||y)&&d?e.cloneElement(i,s.assign(ue(a,p),{ref:n?e=>{fe(n,e),fe(y,e)}:y})):i,g=Y();X(g);let m=c.current;return e.useEffect((()=>{if(!g)return;g.type===$e&&(g=g.child);let{s:e,t:r}=Q(g),n=g?.type,i=t,a=t;Pe(o)?.v&&(i=n?.[z],a=ne(g));let s=[];for(let e in p){if("children"===e)continue;let t=Le(m?.[e],p[e],!0);t&&(t.n=e,s.push(t))}let y=g&&(!g.alternate||!!(4098&g.flags));Ue(o,y||!m?32:64,l,u,t,e,r,1,i,a,t,f,s),c.current=p})),h}));$e.displayName="Million(Profiler)";var xe=(t,r,n,i,o)=>[$e,F].includes(r.type)||"object"==typeof r.type&&r.type?.componentStyle&&"string"==typeof r.type?.target||(e=>"function"==typeof e.type&&e.type.prototype?.isReactComponent||String(e.$$typeof)===P||le.includes(String(e.type)))(r)||(e=>"object"==typeof e.type&&e.type?.muiName||"function"==typeof e.type&&e.type.muiName||e.props.Component||e.props.component)(r)?r:e.createElement($e,{key:r.key||void 0,children:r,_k:t,_i:n,_l:i,_l2:o}),Me=(n,i,o,l,f,u,a,s)=>{if(r||me)return n;let y=Pe(o);if(!y)return n;let d=s?.n||!1,h=s?.c||t,g=y.i.length-1;1!==y.i.length||y.i[0]||(y.i[0]=1);let m=re(t);if(m)for(let e of ce)if(!re(e?.current)){m=!1;break}return 512&i?((r,n,i,o,l)=>{let f=!1,u=[];if(i&&De.includes(typeof i)&&!(z in i)&&(i[z]=r),n){u=e.useState((()=>new c(o.c)))[0];let n=Y();n&&o.v&&(z in n.type||(n.type[z]=r),n.updateQueue?.memoCache&&(o.$=!0)),e.useEffect((()=>{if(J(n)&&!f){let{s:e,t:i}=Q(n);Ue(r,512,l,t,t,o.v?e:0,o.v?i:0,1,t,t,t,o.i.length-1,[])}}));let i=X(n),a=i?.current;a&&!(z in a)&&(a[z]=r);let s=()=>{requestAnimationFrame((()=>{requestAnimationFrame((()=>{o._i!==o.i[o.i.length-1]&&o.i.push(o._i)}))}))};e.useEffect((()=>(f=!1,o._i++,s(),()=>{o._i--,s()})),[])}return{n:f,c:u}})(o,m,n,y,l):m&&2&i?((r,n,i,o,l,f,u)=>{if("object"!=typeof n)return n;let a=Y(),s=ne(a),c=a?.memoizedProps,p=a?.alternate?.memoizedProps;c&&(n||=c);let y=u?.[l]||p;return e.useEffect((()=>{if(J(a)&&!f){let e=[];if(y)for(let t in n){if("children"===t)continue;let r=Le(y[t],n[t],!0);r&&(r.n=t,e.push(r))}y&&!e.length||Ue(r,2,o,t,t,0,0,1,t,s,t,i,e),u&&(u[l]=n)}})),n})(o,n,g,l,a,d,h):m&&4&i?((e,r,n,i,o,l,f,u)=>{let a=Y(),s=r;a&&"object"==typeof r&&r?.current&&(s=r.current);let c=ne(a);if(a&&p(r)&&2===r.length&&"function"==typeof r[1]){let o=r[1],a=function(a){let s=u?u[l][0]:r[0];o(a);let p=Le(s,a,!1);p&&!f&&Ue(e,4,i,t,t,0,0,1,t,c,t,n,[p])};if(a[z]=!0,o[z]=e+"."+i,u){let e=u[l];e?(r[1]=e[1],e[0]=r[0]):u[l]=[r[0],a]}return r}if(f)return r;let y=u?.[l];if(u&&(u[l]=s),y){let l=[];if("object"==typeof s&&o)if(p(s))for(let e=0,t=s.length;e<t;e++){let t=Le(y[e],s[e],!1);t&&(t.n=`${e}`,t.i=e,l.push(t))}else for(let e in s){let t=Le(y[e],s[e],!1);t&&(t.n=e,l.push(t))}else{let e=Le(y,s,!1);if(!e)return r;l.push(e)}Ue(e,4,i,t,o,0,0,o?0:1,t,c,t,n,l)}return r})(o,n,g,l,u,a,d,h):m&&1&i?((e,r,n,i,o,l,f,u)=>{if(!p(r))return r;let a=Y();if(f)return r;let s=ne(a),c=u?.[l],y=[];if(c)for(let e=0,t=r.length;e<t;e++){let t=c[e],n=r[e],i=Le(t,n,!0);i&&(i.n=`${e}`,i.i=e,y.push(i))}return c&&!y.length||Ue(e,1,i,t,o,0,0,1,t,s,t,n,y),u&&(u[l]=r),r})(o,n,g,l,u,a,d,h):16&i?xe(o,n,g,l,f):128&i?Ae(o,n,g,l,d):1024&i?((e,r,n,i)=>{if("function"==typeof r){let o=r[z];Ue(e,1024,i,t,t,0,0,0,o,t,t,n,[])}return r})(o,n,g,l):(2048&i&&Ue(o,2048,l,t,t,0,0,1,t,t,n,g,[]),n)},Be=(e,r,n,i,o)=>me||!r||n==t||i==t||o==t?e:Me(e,e&&"object"==typeof e&&"$$typeof"in e?16:4,r,n,t,t,i,o||t),He=(e,r,n,i,o)=>me||!r||n==t||i==t||e==t||o==t?e:Me(e,2048,r,n,t,t,i,o||t),Ue=(e,r,n,i,o,l,u,a,s,c,p,y,d)=>{let h={k:r,l:n,l2:i,ls:o,s:l,t:u,c:a,i:s,o:c,m:p,d:d,x:ze,u:je,n:y},_=((e,t,r,n,i,o,l)=>e+"."+t+"."+r+(n||"")+(i||"")+(o||"")+l)(e,r,n,c,p,ze,je);if(g.call(be,_)){let e=m.call(be,_),r=we[e].r;return r.c+=a,r.t+=u,r.s+=l,void(r.d=((e,r)=>{if(!e&&!r)return[];if(!e?.length)return r;if(!r?.length)return e;let n=0,i=0,o=e.length-1,l=r.length-1;for(;n<=o&&i<=l;){let t=e[n],f=r[i],u=e[o],a=r[l];if(t.n===f.n)t.c+=f.c,t.u=f.u,n++,i++;else{if(u.n!==a.n)break;u.c+=a.c,u.u=a.u,o--,l--}}let u=new f;for(;n<=o;n++)v.call(u,e[n].n,n);for(;i<=l;i++){let n=r[i],o=m.call(u,n.n);if(o==t){let t=e.push(n);v.call(u,n.n,t-1);continue}let l=e[o];l.c+=n.c,l.u=n.u}return e})(r.d,d))}v.call(be,_,we.length);let b={k:e,r:h};we.push(b),ke?.(),we.length>=300&&We()},Ke=()=>{let r=we.length;if(navigator.onLine&&Te&&r&&de){try{let r=new c(Se.size),n=0;Se.forEach(((e,t)=>{r[n++]={k:t,i:e.i,$:e.$,v:e.v},e.i=[e.i[e.i.length-1]||0]}));let i=Date.now(),o=[];for(let e=0,r=Re.length;e<r;e++){let r=Re[e],n=t,i=r.k;if(i){let e=i.split(".");n=e[2]||t,n&&(i=e[0]+"."+e[1])}o.push({n:r.n,t:r.t,l:Number(n),d:r.d,k:r.k,a:r.a})}let l={batch:we,events:o,commits:Ne,components:r,session:Oe,buildId:he,apiKey:de,commitHash:ge,version:"1.0.0-rc.84",pv:0,react:e.version||C,geo:void 0,date:i};Re=[],Ce=t,ze=-1,Ne=[],je=-1;0,Ie++,W(Te,l,Ie).then((()=>{Ie--})).catch((()=>{0}))}catch(e){}y(qe,0)}},We=M(Ke,300),qe=()=>{me||(we.length=0,be.clear())},Fe=(e,t,n,i)=>{r||me||g.call(Se,e)||v.call(Se,e,{i:[0],_i:0,c:t,n:!1,v:n,_:i})},Ge=()=>{let e=d.getEntriesByType?.("navigation")[0];return e&&e.responseStart>0&&e.responseStart<d.now()?e:t},Ye=()=>Ge()?.activationStart||0,Ve=()=>{let e=Ge();if(e){if(o.prerendering||(e?.activationStart||0)>0)return"prerender";if(o.wasDiscarded)return"restore";if(e.type)return e.type}return"navigate"},Xe=(e,r,n)=>{try{if(PerformanceObserver.supportedEntryTypes.includes(e)){let t=new PerformanceObserver((e=>{Promise.resolve().then((()=>{r(e.getEntries())}))}));return t.observe({type:e,durationThreshold:n,buffered:!0}),t}}catch(e){}return t},Je=e=>{let r=t,n=e;for(;n;){if(n[z]){r=n[z],n[z]||(n[z]=r);break}n=n.parentNode}return r},Qe=()=>{ze=Re.push({n:Ve(),t:-1,d:Date.now(),k:t,a:t})-1;let e=Xe("paint",(r=>{for(let n=0,i=r.length;n<i;n++){let i=r[n];if("first-contentful-paint"===i.name){e.disconnect();let r=Math.max(i.startTime-Ye(),0);Re.push({n:"FCP",t:~~r,d:Date.now(),k:t,a:t})}}}),t),r=Xe("largest-contentful-paint",(e=>{for(let n=0,i=e.length;n<i;n++){let i=e[n];r.disconnect();let o=Math.max(i.startTime-Ye(),0);Re.push({n:"LCP",t:~~o,d:Date.now(),k:t,a:t})}}),t),n=0,i=[],o=0;Xe("layout-shift",(e=>{let r=[];for(let t=0,o=e.length;t<o;t++){let o=e[t],l=i[0],f=i[i.length-1];if(o.hadRecentInput)continue;let u=o.sources;for(let e=0,t=u.length;e<t;e++){let t=u[e],{currentRect:n,previousRect:i}=t;r.push({h:n.height-i.height,w:n.width-i.width,l:n.left-i.left,t:n.top-i.top,k:Je(o.target)})}n&&o.startTime-f.startTime<1e3&&o.startTime-l.startTime<5e3?(n+=o.value,i.push(o)):(n=o.value,i=[o])}n>o&&(o=n,Re.push({n:"CLS",t:n,d:Date.now(),k:t,a:r}))}),t);let l=Xe("event",(e=>{let r=t;for(let t=0,n=e.length;t<n;t++){let n=e[t];(!r||n.duration>=r.duration)&&(r=n)}if(!r)return;let n=r.interactionId;if(Ce!==n){let e=Je(r.target);Ce=n,ze=Re.push({n:r.name,t:r.duration,d:Date.now(),k:e,a:t})-1}}),40);l&&"PerformanceEventTiming"in self&&"interactionId"in PerformanceEventTiming.prototype&&l.observe({type:"first-input",buffered:!0})},Ze=e=>{if(r||me)return;if(i[z]={flush:Ke},Te=e?.url||Te,he||=e?.buildId,ge||=e?.commitHash,de=e?.apiKey,e?.sessionId,Ee)return;Ee=!0,se=e=>{ye();let t=new a;for(let r of e.memoizedUpdaters)if("function"==typeof r?.type){if(r.type[z]){let e=r.alternate,n=e?.memoizedState,i=r?.memoizedState;for(;i;){let e=i.queue?.dispatch||i.queue?.getSnapshot;if("function"==typeof e){let r=e[z];r&&Le(n?.memoizedState,i?.memoizedState,!0)&&O.call(t,r)}i=i.next,n=n?.next}}}if(Ne[je]?.u.length||t.size){const e=new Array(t.size);let r=0;t.forEach((t=>{e[r++]={k:t}})),Ne.push({u:e}),je++}},o.prerendering?l?.("prerenderingchange",Qe,!0):Qe();let t=()=>B(Ke);(e=>{let t=t=>{"pagehide"!==t.type&&"hidden"!==o.visibilityState||e()};l?.("visibilitychange",t,!0),l?.("pagehide",t,!0),l?.("prerenderingchange",t,!0)})(t);let n=M(t,5e3),f=M((()=>{Oe=H()}),3e5);ke=()=>{n(),f()}};export{Me as $$,_e as MillionLintProvider,Ze as init,Fe as registerMetadata,qe as reset,Be as useCapture,He as useCount};